function onePageScroll(e,t){let n=Object.extend({},{sectionContainer:"section",easing:"ease",animationTime:1e3,pagination:!0,updateURL:!1,keyboard:!0,beforeMove:null,afterMove:null,loop:!1,responsiveFallback:!1},t),a=document.querySelector(e),i=document.querySelectorAll(n.sectionContainer),o=i.length,r=0,c=0,s="",l=document.querySelector("body");const d=function(e){"string"==typeof e&&(e=document.querySelector(e));let t,a=document.querySelector(n.sectionContainer+".active").dataset.index,i=document.querySelector(n.sectionContainer+"[data-index='"+a+"']"),o=document.querySelector(n.sectionContainer+"[data-index='"+(parseInt(a)+1)+"']"),r=a;if(o){if(t=100*a*-1,r=o.dataset.index,w(i,"active"),v(o,"active"),!0===n.pagination&&(w(document.querySelector(".onepage-pagination li a[data-index='"+a+"']"),"active"),v(document.querySelector(".onepage-pagination li a[data-index='"+r+"']"),"active")),l.className=l.className.replace(/\bviewing-page-\d.*?\b/g,""),v(l,"viewing-page-"+r),history.replaceState&&!0===n.updateURL){let e=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(a)+1);history.pushState({},document.title,e)}}else{if(!0!==n.loop)return;t=0,o=document.querySelector(n.sectionContainer+"[data-index='1']")}y(e,n,t,r,o)},u=function(e){"string"==typeof e&&(e=document.querySelector(e));let t,a=document.querySelector(n.sectionContainer+".active").dataset.index,i=document.querySelector(n.sectionContainer+"[data-index='"+a+"']"),r=document.querySelector(n.sectionContainer+"[data-index='"+(parseInt(a)-1)+"']");if(r)t=100*(r.dataset.index-1)*-1;else{if(!0!==n.loop)return;t=100*(o-1)*-1,r=document.querySelector(n.sectionContainer+"[data-index='"+o+"']")}let c=r.dataset.index;if(w(i,"active"),v(r,"active"),!0===n.pagination&&(w(document.querySelector(".onepage-pagination li a[data-index='"+a+"']"),"active"),v(document.querySelector(".onepage-pagination li a[data-index='"+c+"']"),"active")),l.className=l.className.replace(/\bviewing-page-\d.*?\b/g,""),v(l,"viewing-page-"+c),history.replaceState&&!0===n.updateURL){let e=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(a)-1);history.pushState({},document.title,e)}y(e,n,t,c,r)},p=function(e){e.preventDefault();let t=e.wheelDelta||-e.detail;g(l,"disabled-onepage-scroll")||b(e,t)},m=function(e){let t,n;function a(e){let i=e.touches;if(i&&i.length){e.preventDefault();let o=t-i[0].pageX,r=n-i[0].pageY;o>=50&&document.dispatchEvent(new Event("swipeLeft")),o<=-50&&document.dispatchEvent(new Event("swipeRight")),r>=50&&document.dispatchEvent(new Event("swipeUp")),r<=-50&&document.dispatchEvent(new Event("swipeDown")),(Math.abs(o)>=50||Math.abs(r)>=50)&&document.removeEventListener("touchmove",a)}}document.addEventListener("touchstart",function(e){let i=e.touches;i&&i.length&&(t=i[0].pageX,n=i[0].pageY,document.addEventListener("touchmove",a))})},f=function(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},g=function(e,t){return e.className?e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)")):e.className===t},v=function(e,t){g(e,t)||(e.className+=" "+t),e.className=f(e.className)},w=function(e,t){if(g(e,t)){let n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}e.className=f(e.className)},h=function(e,t,n){if(n<0)return;let a=(t-e.scrollTop)/n*10;setTimeout(function(){e.scrollTop=e.scrollTop+a,e.scrollTop!==t&&h(e,t,n-10)},10)},y=function(e,t,n,a,i){"function"==typeof t.beforeMove&&t.beforeMove(a,i),e.style.cssText="-webkit-transform: translate3d(0, "+n+"%, 0); -webkit-transition: -webkit-transform "+t.animationTime+"ms "+t.easing+"; -moz-transform: translate3d(0, "+n+"%, 0); -moz-transition: -moz-transform "+t.animationTime+"ms "+t.easing+"; -ms-transform: translate3d(0, "+n+"%, 0); -ms-transition: -ms-transform "+t.animationTime+"ms "+t.easing+"; transform: translate3d(0, "+n+"%, 0); transition: transform "+t.animationTime+"ms "+t.easing+";";let o=function(){let e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(void 0!==t.style[e])return n[e]}();e.addEventListener(o,function n(){"function"==typeof t.afterMove&&t.afterMove(a,i);e.removeEventListener(o,n)},!1)},S=function(){document.body.clientWidth<n.responsiveFallback?(v(l,"disabled-onepage-scroll"),document.removeEventListener("mousewheel",p),document.removeEventListener("DOMMouseScroll",p),m(a),document.removeEventListener("swipeDown"),document.removeEventListener("swipeUp")):(g(l,"disabled-onepage-scroll")&&(w(l,"disabled-onepage-scroll"),h(document.documentElement,0,2e3)),m(a),document.addEventListener("swipeDown",function(e){g(l,"disabled-onepage-scroll")||e.preventDefault(),u(a)},{passive:!1}),document.addEventListener("swipeUp",function(e){g(l,"disabled-onepage-scroll")||e.preventDefault(),d(a)},{passive:!1}),document.addEventListener("mousewheel",p,{passive:!1}),document.addEventListener("DOMMouseScroll",p,{passive:!1}))},b=function(e,t){let i=t,o=(new Date).getTime();o-c<500+n.animationTime?e.preventDefault():(i<0?d(a):u(a),c=o)};!function(){let e;for(v(a,"onepage-wrapper"),a.style.position="relative",e=0;e<i.length;e++)v(i[e],"ops-section"),i[e].dataset.index=e+1+"",r+=100,!0===n.pagination&&(s+="<li><a data-index='"+(e+1)+"' href='#"+(e+1)+"'></a></li>");if(m(a),document.addEventListener("swipeDown",function(e){g(l,"disabled-onepage-scroll")||e.preventDefault(),u(a)}),document.addEventListener("swipeUp",function(e){g(l,"disabled-onepage-scroll")||e.preventDefault(),d(a)}),!0===n.pagination){let e=document.createElement("ul");e.setAttribute("class","onepage-pagination"),l.appendChild(e),e.innerHTML=s,document.querySelector(".onepage-pagination").style.marginTop=document.querySelector(".onepage-pagination").offsetHeight/2*-1+""}if(""!==window.location.hash&&"#1"!==window.location.hash){let e=window.location.hash.replace("#",""),t=document.querySelector(n.sectionContainer+"[data-index='"+e+"']"),i=t.dataset.index;if(v(document.querySelector(n.sectionContainer+"[data-index='"+e+"']"),"active"),v(l,"viewing-page-"+e),!0===n.pagination&&v(document.querySelector(".onepage-pagination li a[data-index='"+e+"']"),"active"),t&&(v(t,"active"),!0===n.pagination&&v(document.querySelector(".onepage-pagination li a[data-index='"+e+"']"),"active"),l.className=l.className.replace(/\bviewing-page-\d.*?\b/g,""),v(l,"viewing-page-"+i),history.replaceState&&!0===n.updateURL)){let t=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+e;history.pushState({},document.title,t)}y(a,n,100*(e-1)*-1,e)}else v(document.querySelector(n.sectionContainer+"[data-index='1']"),"active"),v(l,"viewing-page-1"),!0===n.pagination&&v(document.querySelector(".onepage-pagination li a[data-index='1']"),"active");const t=function(){let e=this.dataset.index;!function(e,t){"string"==typeof e&&(e=document.querySelector(e));let a,i=document.querySelector(n.sectionContainer+".active"),o=document.querySelector(n.sectionContainer+"[data-index='"+t+"']");if(o){let r=o.dataset.index;if(w(i,"active"),v(o,"active"),w(document.querySelector(".onepage-pagination li a.active"),"active"),v(document.querySelector(".onepage-pagination li a[data-index='"+t+"']"),"active"),l.className=l.className.replace(/\bviewing-page-\d.*?\b/g,""),v(l,"viewing-page-"+r),a=100*(t-1)*-1,history.replaceState&&!0===n.updateURL){let e=window.location.href.substr(0,window.location.href.indexOf("#"))+"#"+(parseInt(t)-1);history.pushState({},document.title,e)}y(e,n,a,t,o)}}(a,parseInt(e))};if(!0===n.pagination){let e=document.querySelectorAll(".onepage-pagination li a");for(let n=0;n<e.length;n++)e[n].addEventListener("click",t)}document.addEventListener("mousewheel",p,{passive:!1}),document.addEventListener("DOMMouseScroll",p,{passive:!1}),!1!==n.responsiveFallback&&(window.onresize=function(){S()},S());const o=function(e){let t=e.target.tagName.toLowerCase();if(!g(l,"disabled-onepage-scroll"))switch(e.which){case 38:"input"!==t&&"textarea"!==t&&u(a);break;case 40:"input"!==t&&"textarea"!==t&&d(a);break;default:return}return!1};!0===n.keyboard&&(document.onkeydown=o)}()}export{onePageScroll as default};Object.extend=function(e){if(null==e)return e;for(let t=1;t<arguments.length;t++){let n=arguments[t];if(null!=n)for(let t in n){let a=n.__lookupGetter__(t),i=n.__lookupSetter__(t);a||i?(a&&e.__defineGetter__(t,a),i&&e.__defineSetter__(t,i)):e[t]=n[t]}}return e};